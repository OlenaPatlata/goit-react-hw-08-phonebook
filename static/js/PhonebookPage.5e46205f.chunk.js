"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[713],{9888:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var r=t(2791),a=t(885),s=t(1413),o="Form_title__zy787",i="Form_wrapper__Gnd-H",l="Form_label__eIUgX",c="Form_input__tnh5F",u="Form_btn__wrapper__Jp3IQ",d=t(6429),m=t.n(d),h=t(3357),_=t(4222),x=(t(5462),t(9894)),p=t(184),g={name:"",number:""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"name":return(0,s.Z)((0,s.Z)({},e),{},{name:n.payload});case"number":return(0,s.Z)((0,s.Z)({},e),{},{number:n.payload});case"reset":return g;default:return e}},j=function(){var e=(0,r.useReducer)(v,g),n=(0,a.Z)(e,2),t=n[0],s=n[1],d=m().generate(),j=m().generate(),f=(0,h.Tn)(),b=(0,a.Z)(f,2),C=b[0],F=b[1],N=(F.isLoading,F.isError,function(e){var n=e.target,t=n.name,r=n.value;s({type:t,payload:r})}),Z=function(e){C(e)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h1",{className:o,children:"Phonebook"}),(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Z(t),s({type:"reset"})},className:i,children:[(0,p.jsx)("label",{htmlFor:d,className:l,children:"Name"}),(0,p.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:t.name,onChange:N,id:d,className:c}),(0,p.jsx)("label",{htmlFor:j,className:l,children:"Phone number"}),(0,p.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:t.number,onChange:N,id:j,className:c}),(0,p.jsx)("div",{className:u,children:(0,p.jsx)(x.Z,{title:"Add contact",type:"submit"})})]}),(0,p.jsx)(_.Ix,{autoClose:2e3})]})},f=t(5048),b=function(e){return e.filterContact},C="Filter_title__BoSiv",F="Filter_wrapper__O4LZP",N="Filter_label__77CeJ",Z="Filter_input__Hnx1L",y=t(4459),w=function(){var e=(0,f.v9)((function(e){return b(e)})),n=(0,f.I0)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h1",{className:C,children:"Contacts"}),(0,p.jsxs)("div",{className:F,children:[(0,p.jsx)("label",{className:N,children:"Find contacts by name"}),(0,p.jsx)("input",{type:"text",name:"filter",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",className:Z,value:e,onChange:function(e){return n((0,y.YX)(e.target.value))}})]})]})},L="ContactsList_list__xH2Jb",k="ItemContact_item__3Pajy",I="ItemContact_text__nOrvr",A=function(e){var n=e.contact,t=(0,f.I0)(),r=(0,h.Nt)(),s=(0,a.Z)(r,2),o=s[0],i=s[1].isLoading;return(0,p.jsxs)("li",{className:k,id:n.id,children:[(0,p.jsxs)("p",{className:I,children:[n.name,": ",n.number]}),(0,p.jsx)(x.Z,{isActive:!i,title:"Delete",onClick:function(e){o(e.target.id),_.Am.warn("Contact ".concat(n.name," deleted")),t((0,y.sx)())},id:n.id}),(0,p.jsx)(_.Ix,{autoClose:2e3})]})},z=t(5184),J=t(4576),P=function(){var e=(0,f.v9)(J.ru),n=(0,h.Jx)(null,{skip:!e}),t=n.data,r=n.error,a=n.isError,s=n.isLoading,o=n.isFetching;console.log("data",t),console.log("isError",a),console.log("error",r),console.log("isLoading",s),console.log("isFetching",o);var i=(0,f.v9)((function(e){return function(e,n){if(!n)return[];var t=b(e);if(!t)return n;var r=t.toLocaleLowerCase().trim();return n.filter((function(e){return e.name.toLocaleLowerCase().includes(r)}))}(e,t)}));console.log(i);var l=0===(null===i||void 0===i?void 0:i.length)||404===(null===r||void 0===r?void 0:r.status);return(0,p.jsxs)(p.Fragment,{children:[s&&(0,p.jsx)(z.Z,{}),a&&404!==(null===r||void 0===r?void 0:r.status)&&(0,p.jsx)("p",{children:"Somthing wrong"}),l?(0,p.jsx)("p",{children:"There are no contacts in the phonebook"}):(0,p.jsx)("ul",{className:L,children:(null===i||void 0===i?void 0:i.length)>0?i.map((function(e){return(0,p.jsx)(A,{contact:e},e.id)})):""})]})},E=t(4543),H=function(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(E.Z,{children:(0,p.jsx)(j,{})}),(0,p.jsx)(E.Z,{children:(0,p.jsx)(w,{})}),(0,p.jsx)(E.Z,{children:(0,p.jsx)(P,{})}),(0,p.jsx)(_.Ix,{autoClose:2e3})]})}}}]);
//# sourceMappingURL=PhonebookPage.5e46205f.chunk.js.map