"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[713],{9888:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var r=t(2791),a=t(5861),s=t(885),i=t(1413),o=t(7757),c=t.n(o),l="Form_title__zy787",u="Form_wrapper__Gnd-H",d="Form_label__eIUgX",m="Form_input__tnh5F",h="Form_btn__wrapper__Jp3IQ",p=t(6429),x=t.n(p),_=t(3357),v=t(4222),f=(t(5462),t(9894)),j=t(184),g={name:"",number:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"name":return(0,i.Z)((0,i.Z)({},e),{},{name:n.payload});case"number":return(0,i.Z)((0,i.Z)({},e),{},{number:n.payload});case"reset":return g;default:return e}},C=function(){var e=(0,r.useReducer)(b,g),n=(0,s.Z)(e,2),t=n[0],i=n[1],o=x().generate(),p=x().generate(),C=(0,_.Tn)(),w=(0,s.Z)(C,2),F=w[0],y=w[1],Z=(y.isLoading,y.isError,function(e){var n=e.target,t=n.name,r=n.value;i({type:t,payload:r})}),N=(0,_.Jx)(),L=(N.fetchContacts,N.data),k=(N.error,N.isError,N.isLoading,N.isFetching,function(){var e=(0,a.Z)(c().mark((function e(n){var t,r,a,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.name.toLocaleLowerCase().split(" ").join(""),r=null===L||void 0===L?void 0:L.some((function(e){return e.name.toLocaleLowerCase().split(" ").join("")===t})),a=n.number.split("-").join(""),s=null===L||void 0===L?void 0:L.some((function(e){return e.number.split("-").join("")===a})),!r&&!s){e.next=7;break}return v.Am.error("".concat(r?n.name:n.number," is already in contacts")),e.abrupt("return");case 7:return e.prev=7,e.next=10,F(n);case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(7),console.log(e.t0),v.Am.error("Something went wrong while adding a contact, try changing the name or number.");case 16:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(n){return e.apply(this,arguments)}}());return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h1",{className:l,children:"Phonebook"}),(0,j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),k(t),i({type:"reset"})},className:u,children:[(0,j.jsx)("label",{htmlFor:o,className:d,children:"Name"}),(0,j.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:t.name,onChange:Z,id:o,className:m}),(0,j.jsx)("label",{htmlFor:p,className:d,children:"Phone number"}),(0,j.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:t.number,onChange:Z,id:p,className:m}),(0,j.jsx)("div",{className:h,children:(0,j.jsx)(f.Z,{title:"Add contact",type:"submit"})})]}),(0,j.jsx)(v.Ix,{autoClose:2e3})]})},w=t(5048),F=function(e){return e.filterContact},y="Filter_title__BoSiv",Z="Filter_wrapper__O4LZP",N="Filter_label__77CeJ",L="Filter_input__Hnx1L",k=t(4459),A=function(){var e=(0,w.v9)((function(e){return F(e)})),n=(0,w.I0)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h1",{className:y,children:"Contacts"}),(0,j.jsxs)("div",{className:Z,children:[(0,j.jsx)("label",{className:N,children:"Find contacts by name"}),(0,j.jsx)("input",{type:"text",name:"filter",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",className:L,value:e,onChange:function(e){return n((0,k.YX)(e.target.value))}})]})]})},I="ContactsList_list__xH2Jb",J="ItemContact_item__3Pajy",z="ItemContact_text__nOrvr",P=function(e){var n=e.contact,t=(0,w.I0)(),r=(0,_.Nt)(),a=(0,s.Z)(r,2),i=a[0],o=a[1].isLoading;return(0,j.jsxs)("li",{className:J,id:n.id,children:[(0,j.jsxs)("p",{className:z,children:[n.name,": ",n.number]}),(0,j.jsx)(f.Z,{isActive:!o,title:"Delete",onClick:function(e){i(e.target.id),v.Am.warn("Contact ".concat(n.name," deleted")),t((0,k.sx)())},id:n.id}),(0,j.jsx)(v.Ix,{autoClose:2e3})]})},S=t(5184),E=t(4576),H=function(){var e=(0,w.v9)(E.ru),n=(0,_.Jx)(null,{skip:!e}),t=n.data,r=n.error,a=n.isError,s=n.isLoading,i=(n.isFetching,(0,w.v9)((function(e){return function(e,n){if(!n)return[];var t=F(e);if(!t)return n;var r=t.toLocaleLowerCase().trim();return n.filter((function(e){return e.name.toLocaleLowerCase().includes(r)}))}(e,t)}))),o=0===(null===i||void 0===i?void 0:i.length)||404===(null===r||void 0===r?void 0:r.status);return(0,j.jsxs)(j.Fragment,{children:[s&&(0,j.jsx)(S.Z,{}),a&&404!==(null===r||void 0===r?void 0:r.status)&&(0,j.jsx)("p",{children:"Somthing wrong"}),o?(0,j.jsx)("p",{children:"There are no contacts in the phonebook"}):(0,j.jsx)("ul",{className:I,children:(null===i||void 0===i?void 0:i.length)>0?i.map((function(e){return(0,j.jsx)(P,{contact:e},e.id)})):""})]})},q=t(4543),B=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(q.Z,{children:(0,j.jsx)(C,{})}),(0,j.jsx)(q.Z,{children:(0,j.jsx)(A,{})}),(0,j.jsx)(q.Z,{children:(0,j.jsx)(H,{})}),(0,j.jsx)(v.Ix,{autoClose:2e3})]})}}}]);
//# sourceMappingURL=PhonebookPage.d0104683.chunk.js.map