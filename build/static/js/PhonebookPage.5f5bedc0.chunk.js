"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[713],{211:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var r=t(5861),a=t(885),s=t(7757),o=t.n(s),i=t(2791),c=t(5048),l=t(1413),u="Form_title__zy787",d="Form_wrapper__Gnd-H",m="Form_label__eIUgX",h="Form_input__tnh5F",p="Form_btn__wrapper__Jp3IQ",x=t(6429),_=t.n(x),f=t(3357),g=t(4222),v=(t(5462),t(9894)),j=t(184),b={name:"",number:""},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"name":return(0,l.Z)((0,l.Z)({},e),{},{name:n.payload});case"number":return(0,l.Z)((0,l.Z)({},e),{},{number:n.payload});case"reset":return b;default:return e}},F=function(){var e=(0,i.useReducer)(C,b),n=(0,a.Z)(e,2),t=n[0],r=n[1],s=_().generate(),o=_().generate(),c=(0,f.Tn)(),l=(0,a.Z)(c,2),x=l[0],F=l[1],N=(F.isLoading,F.isError,function(e){var n=e.target,t=n.name,a=n.value;r({type:t,payload:a})}),w=function(e){x(e)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h1",{className:u,children:"Phonebook"}),(0,j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w(t),r({type:"reset"})},className:d,children:[(0,j.jsx)("label",{htmlFor:s,className:m,children:"Name"}),(0,j.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:t.name,onChange:N,id:s,className:h}),(0,j.jsx)("label",{htmlFor:o,className:m,children:"Phone number"}),(0,j.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:t.number,onChange:N,id:o,className:h}),(0,j.jsx)("div",{className:p,children:(0,j.jsx)(v.Z,{title:"Add contact",type:"submit"})})]}),(0,j.jsx)(g.Ix,{autoClose:2e3})]})},N=function(e){return e.filterContact},w="Filter_title__BoSiv",Z="Filter_wrapper__O4LZP",y="Filter_label__77CeJ",k="Filter_input__Hnx1L",L=t(4459),I=function(){var e=(0,c.v9)((function(e){return N(e)})),n=(0,c.I0)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h1",{className:w,children:"Contacts"}),(0,j.jsxs)("div",{className:Z,children:[(0,j.jsx)("label",{className:y,children:"Find contacts by name"}),(0,j.jsx)("input",{type:"text",name:"filter",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",className:k,value:e,onChange:function(e){return n((0,L.YX)(e.target.value))}})]})]})},A="ContactsList_list__xH2Jb",z="ItemContact_item__3Pajy",E="ItemContact_text__nOrvr",J=function(e){var n=e.contact,t=(0,c.I0)(),r=(0,f.Nt)(),s=(0,a.Z)(r,2),o=s[0],i=s[1].isLoading;return(0,j.jsxs)("li",{className:z,id:n.id,children:[(0,j.jsxs)("p",{className:E,children:[n.name,": ",n.number]}),(0,j.jsx)(v.Z,{isActive:!i,title:"Delete",onClick:function(e){o(e.target.id),g.Am.warn("Contact ".concat(n.name," deleted")),t((0,L.sx)())},id:n.id}),(0,j.jsx)(g.Ix,{autoClose:2e3})]})},P=t(5184),S=t(4576),B=function(){var e=(0,c.v9)(S.r),n=(0,f.bN)(),t=(0,a.Z)(n,2),r=t[0],s=t[1],o=s.data,l=s.error,u=s.isError,d=s.isLoading,m=s.isFetching;(0,i.useEffect)((function(){e&&r()}),[e]),console.log("data",o),console.log("isError",u),console.log("error",l),console.log("isLoading",d),console.log("isFetching",m);var h=(0,c.v9)((function(e){return function(e,n){if(!n)return[];var t=N(e);if(!t)return n;var r=t.toLocaleLowerCase().trim();return n.filter((function(e){return e.name.toLocaleLowerCase().includes(r)}))}(e,o)}));return console.log(h),(0,j.jsxs)(j.Fragment,{children:[d&&(0,j.jsx)(P.Z,{}),u&&404!==(null===l||void 0===l?void 0:l.status)&&(0,j.jsx)("p",{children:"Somthing wrong"}),404===(null===l||void 0===l?void 0:l.status)?(0,j.jsx)("p",{children:"There are no contacts in the phonebook"}):(0,j.jsx)("ul",{className:A,children:(null===h||void 0===h?void 0:h.length)>0?h.map((function(e){return(0,j.jsx)(J,{contact:e},e.id)})):""})]})},H="Container_wrapper__3JKWB",q=function(e){var n=e.children;return(0,j.jsx)("div",{className:H,children:n})},D=t(8012),O=function(){var e=(0,c.I0)(),n=(0,f.g0)(),t=(0,a.Z)(n,2),s=t[0],i=t[1],l=(i.error,i.isError,i.isSuccess,function(){var n=(0,r.Z)(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s().unwrap();case 3:n.sent,e((0,D.k4)()),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),g.Am.error("Somthing wrong...");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}());return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(q,{children:(0,j.jsx)(v.Z,{title:"Logout",onClick:l})}),(0,j.jsx)(q,{children:(0,j.jsx)(F,{})}),(0,j.jsx)(q,{children:(0,j.jsx)(I,{})}),(0,j.jsx)(q,{children:(0,j.jsx)(B,{})}),(0,j.jsx)(g.Ix,{autoClose:2e3})]})}}}]);
//# sourceMappingURL=PhonebookPage.5f5bedc0.chunk.js.map